# 골프장 회원 이용권 정보 관리 가이드

## 개요

회원 고유ID 체계 개선 과정에서 이용권 정보가 효과적으로 관리되어야 한다는 요구사항이 확인되었습니다. 이 가이드는 이용권 정보를 효과적으로 관리하기 위한 시스템과 방법을 설명합니다.

## 1. 생성된 파일 목록

이용권 관리 스크립트를 통해 다음 파일들이 생성되었습니다:

1. **회원별_이용권_정보.xlsx**
   - 시트1: 이용권상세 - 모든 회원의 모든 이용권에 대한 상세 정보
   - 시트2: 이용권보유현황 - 회원별 각 유형 이용권 보유 여부

2. **회원별_이용권_요약.xlsx**
   - 회원별 보유 이용권 수, 이용권 목록, 회원 상태 등 요약 정보

## 2. 이용권 현황 분석 결과

이용권 데이터 분석 결과 다음과 같은 정보가 확인되었습니다:

### 이용권 종류별 회원 수
- 타석정기권 보유 회원: 646명
- 타석쿠폰 보유 회원: 270명
- 시설정기권 보유 회원: 692명
- 시설쿠폰 보유 회원: 82명
- 예약정기권/예약쿠폰/레슨상품: 현재 데이터 없음

### 이용권 종류별 발급 수
- 시설정기권: 860개
- 타석정기권: 761개
- 타석쿠폰: 312개
- 시설쿠폰: 98개

### 이용권 상태별 통계
- 종료: 1,449개
- 이용중: 506개
- 일시정지: 46개
- 이용전: 26개
- 휴회: 4개

## 3. 이용권 검색 방법

특정 회원의 이용권 정보를 검색하기 위한 함수가 제공됩니다:

```python
# 회원 검색 함수
def search_member_subscriptions(member_id=None, name=None, phone=None):
    """
    회원ID, 이름 또는 휴대폰번호로 회원의 이용권 정보를 검색합니다.
    
    Args:
        member_id (str): 고유회원ID (예: 'D-202505-001')
        name (str): 회원 이름 (예: '홍길동')
        phone (str): 휴대폰번호 (예: '01012345678')
        
    Returns:
        DataFrame: 검색된 회원의 이용권 정보
    """
    if member_id:
        return subscriptions_details_df[subscriptions_details_df['고유회원ID'] == member_id]
    elif name:
        return subscriptions_details_df[subscriptions_details_df['이름'].str.contains(name)]
    elif phone:
        return subscriptions_details_df[subscriptions_details_df['휴대폰번호'].str.contains(phone)]
    else:
        return pd.DataFrame()  # 빈 결과 반환
```

## 4. 이용권 관리를 위한 데이터베이스 구조 제안

현재 엑셀 기반의 관리에서 더 효과적인 데이터베이스 기반 관리를 위해 다음과 같은 테이블 구조를 제안합니다:

### 회원 테이블 (Members)
- 고유회원ID (PK): 'D-YYYYMM-NNN' 형식
- 기본 회원 정보 (이름, 휴대폰번호, 성별, 생년월일 등)
- 가입일, 상태, 최근 방문일 등

### 이용권 마스터 테이블 (SubscriptionTypes)
- 이용권유형ID (PK)
- 이용권 분류: 타석정기권, 시설정기권, 타석쿠폰 등
- 이용권 이름: 골프 1개월(남), 헬스 12개월 등
- 가격, 유효기간, 혜택 정보 등

### 회원별 이용권 테이블 (MemberSubscriptions)
- 회원이용권ID (PK): 자동증가 일련번호
- 고유회원ID (FK): 회원 테이블 참조
- 이용권유형ID (FK): 이용권 마스터 테이블 참조
- 시작일/종료일
- 이용상태: 이용중, 종료, 일시정지, 이용전, 휴회
- 결제 정보, 비고 등

### 이용 내역 테이블 (UsageHistory)
- 이용내역ID (PK): 자동증가 일련번호
- 회원이용권ID (FK): 회원별 이용권 테이블 참조
- 이용일시
- 이용 장소/서비스
- 비고

## 5. 이용권 관리 시스템 개선 방안

### 데이터 일관성 유지
- 이용권 명칭, 유형, 가격 등의 정보를 표준화하여 등록
- 동일 이용권에 대한 일관된 입력 형식 사용
- 데이터 변경 이력 관리 체계 구축

### 이용권 만료 관리
- 만료 예정 이용권 자동 알림 기능
- 갱신 대상 회원 자동 추출 및 관리
- 이용권 만료일별 분류 및 통계

### 회원별 이용 현황 추적
- 회원별 이용 패턴 분석 시스템
- 이용권 종류별 사용 빈도 및 선호도 추적
- 회원별 추천 이용권 제안 기능

### 매출 및 통계 기능
- 이용권 종류별 매출 통계
- 기간별 가입 및 해지 추이 분석
- 회원 특성별 이용 패턴 및 매출 기여도 분석

## 6. 구현 로드맵

### 1단계: 데이터 정비 (현재)
- 회원 고유ID 체계 확립 (D-YYYYMM-NNN)
- 이용권 데이터 추출 및 정리
- 기본 통계 및 분석 도구 구축

### 2단계: 데이터베이스 시스템 구축
- 관계형 데이터베이스 설계 및 구축
- 기존 엑셀 데이터 마이그레이션
- 관리 프로그램 개발

### 3단계: 고급 기능 개발
- 회원 관리 인터페이스 개선
- 이용권 예약 및 관리 시스템 통합
- 매출 분석 및 예측 기능 구현

### 4단계: 모바일/웹 연동
- 회원용 모바일 앱 개발
- 관리자용 웹 대시보드 개발
- 푸시 알림 및 자동화 기능 추가

## 결론

이용권 정보는 회원 관리의 핵심 요소이며, 고유회원ID 체계와 함께 일관되게 관리되어야 합니다. 이 가이드에서 제시한 방법을 통해 이용권 정보를 효과적으로 관리하고, 회원 서비스 품질을 향상시킬 수 있습니다. 