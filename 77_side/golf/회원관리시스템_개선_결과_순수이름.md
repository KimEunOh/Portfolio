# 골프장 회원 관리 시스템 개선 결과 (순수이름 기반)

## 개요

기존 회원 데이터 관리 시스템에서는 회원이 이용권을 모두 사용하고 재등록할 때마다 새로운 회원번호가 부여되어 동일 회원을 식별하기 어려운 문제가 있었습니다. 이 문제를 해결하기 위해 이름과 휴대폰번호를 기준으로 고유 회원 식별자(고유회원ID)를 부여하는 작업을 수행했습니다.

기존 개선에서는 **이름 전체(괄호 포함)**와 휴대폰번호를 기준으로 고유ID를 부여했으나, 추가 요구사항에 따라 **괄호 내용과 관계없이 이름 부분과 전화번호가 같으면 동일인으로 취급**하는 순수이름 기반 회원 식별 시스템으로 개선했습니다.

## 데이터 현황

- **총 데이터 레코드**: 1,604개(종료 회원 1,090개 + 활성 회원 514개)
- **기존 고유 회원 수**: 1,328명
- **순수이름 기준 고유 회원 수**: 1,322명
- **동일인으로 통합된 회원 수**: 6명

## 동일인 통합 사례

순수이름과 휴대폰번호가 같아 동일인으로 통합된 대표적인 사례:

1. **김건회 사례**
   - 김건회(골): 고유회원ID = D-202505-207
   - 김건회(헬): 고유회원ID = D-202505-1249
   - 통합 후: 하나의 고유회원ID로 통일

2. **문은선 사례**
   - 문은선(골쿠+패키지): 고유회원ID = D-202505-468
   - 문은선(골프): 고유회원ID = D-202505-734
   - 통합 후: 하나의 고유회원ID로 통일

## 개선 작업 내용

1. **순수이름 추출**
   - 이름(추가정보) 형식에서 괄호 앞 부분만 추출 (예: '박민규(상무)' → '박민규')
   - 추출된 순수이름과 휴대폰번호를 기준으로 고유 회원 식별

2. **데이터 통합**
   - 동일 순수이름과 휴대폰번호를 가진 회원 레코드를 하나로 통합
   - 통합된 회원에게 새로운 고유회원ID 할당

3. **이용권 정보 연결**
   - 순수이름 기반 고유회원ID를 기준으로 모든 이용권 정보 연결
   - 동일 회원의 모든 이용권 이력 통합 관리

4. **파일 백업 및 생성**
   - 원본 파일 백업 완료
   - 개선된 데이터 파일 생성
   - 순수이름 기반 회원 ID 매핑 테이블 생성

## 개선된 파일 목록

1. **2024.01.01 ~2024.12.31 종료된 회원_순수이름.xlsx**
   - 종료된 회원 데이터(순수이름 기반 고유회원ID 적용)
   - 총 1,090개 레코드

2. **현재 이용중인 회원_순수이름.xlsx**
   - 현재 이용중인 회원 데이터(순수이름 기반 고유회원ID 적용)
   - 총 514개 레코드

3. **회원_ID_매핑_순수이름.xlsx**
   - 순수이름, 휴대폰번호와 고유회원ID 매핑 테이블
   - 총 1,322명의 고유 회원 데이터

4. **회원별_이용권_정보_순수이름.xlsx**
   - 순수이름 기반으로 통합된 회원별 이용권 상세 정보
   - 시트1: 이용권상세 - 모든 회원의 모든 이용권에 대한 상세 정보
   - 시트2: 이용권보유현황 - 회원별 각 유형 이용권 보유 여부

5. **회원별_이용권_요약_순수이름.xlsx**
   - 회원별 보유 이용권 수, 이용권 목록, 회원 상태 등 요약 정보

## 데이터베이스 구조 개선 제안

순수이름 기반 식별을 반영한 데이터베이스 구조를 제안합니다:

### 1. 회원 테이블 (Members)
- **고유회원ID (PK)**: 불변하는 고유 식별자 (D-YYYYMM-NNN 형식)
- **순수이름**: 괄호를 제외한 이름 부분
- **회원명**: 원본 이름(추가정보 포함)
- **휴대폰번호**: 회원 연락처
- **회원등급**: 회원 등급 정보
- **가입일**: 최초 가입 날짜
- **상태**: 회원 상태 (활성/비활성)
- **기타 기본 정보**: 생년월일, 성별 등

### 2. 이용권/쿠폰 테이블 (Subscriptions)
- **이용권ID (PK)**: 이용권 고유 식별자
- **고유회원ID (FK)**: 회원 테이블 참조
- **이용권종류**: 타석정기권/시설정기권/타석쿠폰 등 구분
- **이용권명**: 상품명 (예: 골프 1개월)
- **시작일**: 이용 시작일
- **종료일**: 이용 종료일
- **상태**: 이용 상태 (이용중/종료 등)

### 3. 이용 내역 테이블 (UsageHistory)
- **이용내역ID (PK)**: 이용 내역 고유 식별자
- **고유회원ID (FK)**: 회원 테이블 참조
- **이용권ID (FK)**: 이용권 테이블 참조
- **이용일시**: 이용한 날짜와 시간
- **이용내용**: 이용한 서비스 내용

## 기대 효과

1. **회원 식별 용이성 향상**
   - 괄호 내용(직위, 소속 등)이 변경되어도 동일 회원으로 정확히 식별
   - 여러 이용권 등록에도 누적 이력을 고유회원ID로 쉽게 조회 가능

2. **데이터 무결성 향상**
   - 중복 등록 방지 및 동일 회원의 이력 관리 용이
   - 괄호 내용 변경으로 인한 데이터 불일치 문제 해결

3. **통계 및 분석 기능 강화**
   - 회원별 이용 패턴 정확한 분석 가능
   - 회원 충성도 및 이탈 추적 용이

## 추가 권장사항

1. **순수이름 기반 회원 검색 시스템 도입**
   - 회원 검색 시 괄호 내용과 관계없이 이름으로 검색 가능한 기능 구현
   - 예시: '박민규'로 검색 시 '박민규', '박민규(상무)', '박민규(이사)' 등 모두 검색

2. **회원명 입력 규칙 표준화**
   - 회원명 입력 시 '이름(추가정보)' 형식 준수
   - 동일인은 항상 동일한 이름 부분 사용 (철자, 띄어쓰기 등 일관성)

3. **데이터베이스 시스템 도입**
   - 엑셀 기반 관리에서 관계형 데이터베이스 시스템으로 전환 고려
   - 순수이름 필드를 포함한 데이터베이스 스키마 설계

4. **휴대폰번호 변경 관리 프로세스**
   - 휴대폰번호 변경 시 순수이름이 같아도 별개 회원으로 취급될 수 있어 주의
   - 휴대폰번호 변경 시 회원 정보 업데이트 프로세스 구축

---

작업일자: 2025년 5월 15일 