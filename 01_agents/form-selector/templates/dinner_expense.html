<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>야근 식대 신청서</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<div class="card">
    <h2 class="form-title">연차 신청서</h2>
    <form id="annual_leave_form">
        <div class="form-group">
            <label for="title">제목:</label>
            <input type="text" id="title" name="title" class="form-control" value="{title}">
        </div>

        <div class="form-group">
            <label for="drafter_info">기안자 정보:</label>
            <input type="text" id="drafter_info" name="drafter_info" readonly class="form-control" value="{drafter_name} ({draft_department})">
            <input type="hidden" id="draft_date" name="draft_date" value="{draft_date}">
        </div>

        <div class="form-group">
          <label for="leave_type">휴가 종류:</label>
          <select id="leave_type" name="leave_type" class="form-control" data-selected="{leave_type}">
            <option value="">선택하세요</option>
            <option value="annual">연차</option>
            <option value="half_day_morning">오전 반차</option>
            <option value="half_day_afternoon">오후 반차</option>
            <option value="quarter_day_morning">오전 반반차</option>
            <option value="quarter_day_afternoon">오후 반반차</option>
          </select>
        </div>

        <div class="form-group">
          <label for="reason">휴가 사유:</label>
          <textarea id="reason" name="reason" class="form-control" rows="4">{reason}</textarea>
        </div>

        <div class="form-group">
          <label for="leave_days">연차 일수 (숫자):</label>
          <input type="number" id="leave_days" name="leave_days" min="0.25" step="0.25" class="form-control" value="{leave_days}">
        </div>

        <div class="form-group">
          <label for="start_date">휴가 시작일:</label>
          <input type="date" id="start_date" name="start_date" class="form-control" value="{start_date}">
        </div>

        <div class="form-group">
          <label for="end_date">휴가 종료일:</label>
          <input type="date" id="end_date" name="end_date" class="form-control" value="{end_date}">
        </div>

        <div id="approval_line_container">
            <h3>결재 라인</h3>
            <div id="approval-line" class="approval-line">
                <!-- Approvers will be dynamically inserted here -->
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">결재요청</button>
        </div>
    </form>
</div>
<script id="approvers-data" type="application/json">{approvers_json}</script>