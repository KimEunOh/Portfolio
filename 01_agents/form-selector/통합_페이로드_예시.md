# 통합 API Payload 구조 예시

이 문서는 API 명세에 따라, 각기 다른 결재 양식이 어떻게 하나의 일관된 JSON 구조로 표현되는지에 대한 예시를 보여줍니다.

-   **공통 필드**: `mstPid`, `aprvNm`, `drafterId`, `docCn`, `apdInfo` 등 문서의 기본 정보를 담습니다.
-   **lineList**: 모든 양식에 공통으로 포함되는 결재선 정보 리스트입니다.
-   **dayList**: 연차 신청과 같이 날짜가 중심이 되는 양식의 상세 내용을 담습니다.
-   **amountList**: 비용 정산과 같이 금액이 중심이 되는 양식의 상세 내용을 담습니다.

---

## 1. 연차 신청서

-   **특징**: `dayList`에 연차 날짜와 종류를 기록하고, `amountList`는 빈 배열(`[]`)로 유지합니다. `docCn`이 연차 사유의 역할을 합니다.

```json
{
    "mstPid": "ANNUAL-LEAVE-202507-001",
    "aprvNm": "개인 사유 연차 사용 신청",
    "drafterId": "user0123",
    "docCn": "가족 행사 참석으로 인한 연차 사용",
    "apdInfo": null,
    "lineList": [
        {
            "aprvPslId": "manager01",
            "aprvDvTy": "APPROVAL",
            "ordr": 1
        }
    ],
    "dayList": [
        {
            "reqYmd": "2025-07-21",
            "dvType": "DAY"
        },
        {
            "reqYmd": "2025-07-22",
            "dvType": "HALF_AM"
        }
    ],
    "amountList": []
}
```

---

## 2. 야근 식대 신청서

-   **특징**: `amountList`에 야근 식대 내역을 기록하고, `dayList`는 빈 배열(`[]`)로 유지합니다.

```json
{
    "mstPid": "DINNER-EXPENSE-202507-002",
    "aprvNm": "7월 20일 프로젝트 마감 야근 식대 신청",
    "drafterId": "user0456",
    "docCn": "알파 프로젝트 최종 배포 버전 준비",
    "apdInfo": "{\\"bank_account\\": \\"우리은행 1002-123-456789\\", \\"work_location\\": \\"본사 13층 개발실\\", \\"overtime_time\\": \\"21:30\\"}",
    "lineList": [
        {
            "aprvPslId": "team-lead02",
            "aprvDvTy": "APPROVAL",
            "ordr": 1
        }
    ],
    "dayList": [],
    "amountList": [
        {
            "useYmd": "2025-07-20",
            "dvNm": "식대",
            "useRsn": "팀원들과 함께 저녁 식사 (법인카드 사용)",
            "amount": 85000
        }
    ]
}
```

---

## 3. 비품 구매 신청서

-   **특징**: `amountList`에 구매할 각 품목의 상세 내역(`unit`, `quantity`, `unitPrice` 포함)을 기록합니다.

```json
{
    "mstPid": "PURCHASE-REQ-202507-003",
    "aprvNm": "개발팀 사무용품 구매 요청",
    "drafterId": "user0789",
    "docCn": "신규 입사자 및 기존 팀원들을 위한 사무용품 보충",
    "apdInfo": "{\\"delivery_location\\": \\"12층 개발팀\\", \\"payment_method\\": \\"법인카드 선결제\\"}",
    "lineList": [
        {
            "aprvPslId": "manager01",
            "aprvDvTy": "AGREEMENT",
            "ordr": 1
        },
        {
            "aprvPslId": "finance-team",
            "aprvDvTy": "APPROVAL",
            "ordr": 2
        }
    ],
    "dayList": [],
    "amountList": [
        {
            "useYmd": "2025-07-23",
            "dvNm": "사무용품",
            "useRsn": "A4 복사용지",
            "unit": "박스",
            "quantity": 2,
            "unitPrice": 25000,
            "amount": 50000
        },
        {
            "useYmd": "2025-07-23",
            "dvNm": "사무용품",
            "useRsn": "네임펜 세트 (검정/파랑/빨강)",
            "unit": "세트",
            "quantity": 5,
            "unitPrice": 3000,
            "amount": 15000
        },
        {
            "useYmd": "2025-07-23",
            "dvNm": "IT기기",
            "useRsn": "무소음 마우스",
            "unit": "개",
            "quantity": 3,
            "unitPrice": 22000,
            "amount": 66000
        }
    ]
}
```

---

## 4. 파견 및 출장 보고서

-   **특징**: 출장 중 발생한 모든 경비 내역을 `amountList`에 항목별로 기록합니다.

```json
{
    "mstPid": "BIZ-TRIP-202507-004",
    "aprvNm": "부산 지사 방문 출장 결과 보고 및 경비 정산",
    "drafterId": "user0123",
    "docCn": "부산 지사 2분기 실적 점검 및 하반기 사업 계획 논의 (7/21 ~ 7/22)",
    "apdInfo": "{\\"duration_days\\": 2, \\"origin\\": \\"서울 본사\\", \\"destination\\": \\"부산 지사\\", \\"notes\\": \\"상세 보고서 별도 첨부 예정\\"}",
    "lineList": [
        {
            "aprvPslId": "manager01",
            "aprvDvTy": "APPROVAL",
            "ordr": 1
        }
    ],
    "dayList": [],
    "amountList": [
        {
            "useYmd": "2025-07-21",
            "dvNm": "교통비",
            "useRsn": "서울 -> 부산 KTX 왕복",
            "amount": 119600
        },
        {
            "useYmd": "2025-07-21",
            "dvNm": "숙박비",
            "useRsn": "부산 비즈니스 호텔 1박",
            "amount": 150000
        },
        {
            "useYmd": "2025-07-21",
            "dvNm": "식대",
            "useRsn": "부산 지사 팀과 저녁 식사",
            "amount": 125000
        },
        {
            "useYmd": "2025-07-22",
            "dvNm": "교통비",
            "useRsn": "부산 시내 택시 이동",
            "amount": 25000
        }
    ]
}
```

---

## 5. 교통비 신청서

-   **특징**: 발생한 교통비를 `amountList`에 건별로 상세히 기록합니다.

```json
{
    "mstPid": "TRANSPORT-EXPENSE-202507-005",
    "aprvNm": "외부 업체 미팅 교통비 신청",
    "drafterId": "user0456",
    "docCn": "강남 B업체 신규 프로젝트 제안 미팅 관련",
    "apdInfo": "{\\"bank_account\\": \\"신한은행 110-234-567890\\", \\"origin\\": \\"본사\\", \\"destination\\": \\"강남 B업체\\", \\"notes\\": \\"왕복 영수증 원본 제출\\"}",
    "lineList": [
        {
            "aprvPslId": "manager02",
            "aprvDvTy": "APPROVAL",
            "ordr": 1
        }
    ],
    "dayList": [],
    "amountList": [
        {
            "useYmd": "2025-07-25",
            "dvNm": "교통비",
            "useRsn": "본사 -> 강남역 (택시)",
            "amount": 18000
        },
        {
            "useYmd": "2025-07-25",
            "dvNm": "교통비",
            "useRsn": "강남역 -> 본사 (지하철)",
            "amount": 1450
        }
    ]
}
```

---

## 6. 구매 품의서

-   **특징**: 고가의 자산이나 중요한 품목 구매 시, `amountList`에 상세 내역을 기록합니다.

```json
{
    "mstPid": "PURCHASE-APPROVAL-202507-006",
    "aprvNm": "영상 편집용 고사양 워크스테이션 구매 품의",
    "drafterId": "user0789",
    "docCn": "4K 영상 콘텐츠 제작 증가에 따른 편집 성능 향상을 위해 고사양 워크스테이션 2대 구매가 필요함. 렌더링 시간 50% 단축 기대.",
    "apdInfo": "{\\"vendor\\": \\"ABC 컴퓨터\\", \\"quote_number\\": \\"Q20250725-01\\", \\"payment_terms\\": \\"물품 수령 후 30일 이내 현금 결제\\", \\"delivery_location\\": \\"본사 9층 영상팀\\", \\"attached_files\\": \\"견적서 1부, 제품 카탈로그\\"}",
    "lineList": [
        {
            "aprvPslId": "head-of-design",
            "aprvDvTy": "AGREEMENT",
            "ordr": 1
        },
        {
            "aprvPslId": "cfo",
            "aprvDvTy": "APPROVAL",
            "ordr": 2
        }
    ],
    "dayList": [],
    "amountList": [
        {
            "useYmd": "2025-07-28",
            "dvNm": "고정자산",
            "useRsn": "영상 편집용 워크스테이션 모델-V",
            "unit": "대",
            "quantity": 2,
            "unitPrice": 4500000,
            "amount": 9000000
        }
    ]
}
```

---

## 7. 개인 경비 사용내역서

-   **특징**: 업무상 사용한 개인 경비를 `amountList`에 기록하여 정산 요청합니다.

```json
{
    "mstPid": "PERSONAL-EXPENSE-202507-007",
    "aprvNm": "2025년 7월 개인 경비 정산",
    "drafterId": "user0123",
    "docCn": "업무 관련으로 발생한 개인 경비 내역입니다.",
    "apdInfo": "{\\"bank_account\\": \\"국민은행 123-45-6789-10\\", \\"usage_status\\": \\"personal_card\\"}",
    "lineList": [
        {
            "aprvPslId": "manager01",
            "aprvDvTy": "APPROVAL",
            "ordr": 1
        }
    ],
    "dayList": [],
    "amountList": [
        {
            "useYmd": "2025-07-15",
            "dvNm": "도서구입비",
            "useRsn": "'클린 아키텍처' 도서 구입",
            "unit": "권",
            "quantity": 1,
            "unitPrice": 28000,
            "amount": 28000
        },
        {
            "useYmd": "2025-07-20",
            "dvNm": "식대",
            "useRsn": "C클라이언트 미팅 시 커피",
            "amount": 15000
        }
    ]
}
```

---

## 8. 법인 카드 사용 내역서

-   **특징**: 법인카드 사용 건에 대해, `amountList`에 각 내역의 사용 목적을 기록하여 증빙합니다.

```json
{
    "mstPid": "CORP-CARD-202507-008",
    "aprvNm": "법인카드 사용 내역 증빙 (2025-07-15 ~ 2025-07-20)",
    "drafterId": "user0456",
    "docCn": "프로젝트 미팅 및 야근 식대로 사용한 법인카드 내역을 제출합니다.",
    "apdInfo": "{\\"card_number\\": \\"1234-56**-****-8910\\", \\"card_user_name\\": \\"홍길동\\", \\"statement_date\\": \\"2025-07-20\\"}",
    "lineList": [
        {
            "aprvPslId": "team-lead02",
            "aprvDvTy": "APPROVAL",
            "ordr": 1
        }
    ],
    "dayList": [],
    "amountList": [
        {
            "useYmd": "2025-07-16",
            "dvNm": "고객접대비",
            "useRsn": "D고객사 점심 식사",
            "amount": 78000
        },
        {
            "useYmd": "2025-07-20",
            "dvNm": "야근식대",
            "useRsn": "알파 프로젝트 야근 식대",
            "amount": 45000
        }
    ]
} 